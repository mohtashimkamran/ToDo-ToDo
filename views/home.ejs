<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/style.css"> 
</head>
<body class = "text-white">

    <header>
        <h1>
            <i class="fas fa-tasks"></i> <%= title %> 
        </h1>
    </header>


<div class = "form-wrapper">
    <div class = "col-0 col-sm-1 col-md-2 col-lg-3"></div>
    <div class = "col-12 col-sm-10 col-md-8 col-lg-6">
        <!-- Form -->
        <form action = "/add-task" method = "POST">
            <div class = "form-group">
                <label for="description">Description</label>
                <textarea name="description" id="description" rows="1" class = "form-control" placeholder = "Task Description" required></textarea>
            </div>

            <div class = "category-date-container">
                <div class = "category-container">
                    <label for="category">Category</label>
                    <select name="category" id="category" class = "form-control" required>
                        <option value="personal" selected>Personal</option>
                        <option value="work">Work</option>
                        <option value="home">Home</option>
                        <option value="office">Office</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <!-- <div class = "due-date-container">
                    <label for="due_date">Due Date</label>
                    <input name = "due_date" id = "due_date" type="date" class = "form-control">
                </div> -->
            </div>

            <div class = "buttons-container">
                <button id = "add-tasks-btn" type = "submit" class = "bg-success my-btn"><i class="fa fa-plus" aria-hidden="true"></i> ADD TASK</button>
                <button id = "delete-tasks-btn" type = "button" class = "bg-danger my-btn"><i class="fas fa-trash-alt"></i> DELETE TASKS</button>
            </div>
        </form>

        <!-- Task Cards will be rendered below -->

        <div class = "cards-container" id = "cards-container">
            <% for(task of tasks){ %>
                <div class = "card bg-transparent">
                    <div class = "card-body my-card">
                        <div class = "checkbox-description-container">
                            <div class = "checkbox-container d-inline-block">
                                <input type="checkbox" name = "delete-task" value = <%= task._id %>>
                            </div>
                            <h5 class = "card-title d-inline-block">
                                <%= task.description %> 
                            </h5>
                        </div>
                        
                        <div class = "card-badge-container">
                            <div class = "badge badge-<%= task.category %>">
                                <%= task.category[0].toUpperCase() + task.category.substring(1) %> 
                            </div>  
                        </div>
                    </div>


                </div>
            <% } %> 
        </div>
    </div>
    <div class = "col-0 col-sm-1 col-md-2 col-lg-3"></div>
</div>

    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="/js/main.js"></script>
</body>
</html>